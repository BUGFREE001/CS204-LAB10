
#1

The difference is :

In w+ mode, If the file doesn't exist, it will create a new one.
Also, it truncates the file to zero length if it exists.

In r+ mode, If the file doesn't exist, it will not create a new one. It gives us an error.
If the file exists, it will append it to the end.


#include <stdio.h>
int main()
{
FILE *fp;
// open file in w+ mode  
fp = fopen("xyz.txt", "w+");
// write to the file
fprintf(fp, "This is testing for fprintf...\n");

// close the file
fclose(fp);
}





-------------------------------------------------------------------------------------------------------------------------------------




#2

#include <stdio.h>

void compare_two_binary(FILE *,FILE *);

int main(int argc,char *argv[])
{
   FILE *file1,*file2;

   if(argc < 3)
   {
       printf("\nArguments are not Sufficient\n");

   }
   else 
   {
       file1 = fopen(argv[1],"r"); 

       if(file1 == NULL)
       {
           printf("\nFile is not Valid \n",argv[1]);
           return;
       }

       file2 = fopen(argv[2],"r");
       if(file2 == NULL)
       {
           printf("\nFile is not Valid \n",argv[2]);
           return;
       }
       if((file1 != NULL) && (file2 != NULL))
       {
           compare_two_binary(file1,file2);
       }
   }
}

void compare_two_binary(FILE *file1,FILE *file2)
{
   char ch1,ch2;

   int flag = 0;//a variable for checking binaries
   while (((ch1 = fgetc(file1)) != EOF) &&((ch2 = fgetc(file2)) != EOF))
   {
       if(ch1 == ch2)
       {
           flag = 1;
           continue;
       }
       else 
       {
           fseek(file1,-1,SEEK_CUR);
           flag = 0;

       }
   }

   if(flag == 0)
   {
       printf("Two Binary files are not EQUAL\n First Byte poistion at which two files differ is %ld\n", ftell(file1)+1);
   }
   else
   {
       printf("Two files are EQUAL\n");
   }

}







-------------------------------------------------------------------------------------------------------------------------------------





#6


// Before running this program create the two text files and enter them along with their extension when asked at the console.
// Also note that the filename should be less than 100.




#include <stdio.h>
#include <stdlib.h>
#include <string.h> 

int main()
{
FILE *frd;
FILE *fwrite;

int char_count;
int length;
int i;
int temp,temp2;
char filename[100], filename1[100],*C;


printf("Enter the filename to open \n");
scanf("%s", filename);
printf("Enter the max line size(no of chars) \n");
scanf("%d",&char_count);
printf("Enter the filename to write the output \n");
scanf("%s", filename1);


// Open input file
frd = fopen(filename, "r");
//Open output file
fwrite = fopen(filename1, "w");
       //handle the case when input or output file does not exist.
if (frd == NULL||(fwrite == NULL))
{
printf("Cannot open file \n");
exit(0);
}

//start reading from input file
if (frd)
{
fseek (frd, 0, SEEK_END);
length = ftell (frd);
fseek (frd, 0, SEEK_SET);
C = malloc (length);
if (C)
{
fread (C, 1, length, frd);
}
fclose (frd);
}

//C stores the content of entire file
//traverse the string from the begining

temp2 =0; // temp2 will keep track of the character in each line
for(i=0;i<=(strlen(C));i++)
{
temp2++;
   if(temp2 == char_count+1)
   {
       C[temp]='\n';
       temp2 =i - temp;
       }

else if(C[i]==' ')
{
   temp =i;
}

}

//write the contents to the file
fprintf(fwrite,C);
  
return 0;
}














